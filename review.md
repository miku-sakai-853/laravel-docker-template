# Laravel Lesson レビュー①

## Todo一覧機能

### Todoモデルのallメソッドで実行しているSQLは何か

SELECT * FROM todos;

### Todoモデルのallメソッドの返り値は何か

Illuminate\Database\Eloquent\Collectionクラスのインスタンス

### 配列の代わりにCollectionクラスを使用するメリットは

レコード情報を配列ではなくTodoインスタンスとして獲得できるので、そのインスタンスに対してメソッドが使用できる

### view関数の第1・第2引数の指定と何をしているか

第1引数：データを画面に表示させたいbladeファイル
第2引数：第1引数の画面に表示したいデータの連想配列
上記を指定し、Controllerから第1引数のbladeファイルに第2引数のデータを渡している

### index.blade.phpの$todos・$todoに代入されているものは何か

$todo：作成したTodoモデルのインスタンス
$todos：Illuminate\Database\Eloquent\Collectionクラスのインスタンス（allメソッドの返り値）

## Todo作成機能

### Requestクラスのallメソッドは何をしているか

フォームから送信された値を連想配列として一括で取得

### fillメソッドは何をしているか

allメソッドで連想配列で取得した値をTodoインスタンスの各プロパティに一括で代入する

### $fillableは何のために設定しているか

代入できる項目に制限を掛けて、一括代入の脆弱性を補完している

### saveメソッドで実行しているSQLは何か

INSERT INTO todos (content) VALUES ($content);

### redirect()->route()は何をしているか

リダイレクト先をルート名で指定している

## その他

### テーブル構成をマイグレーションファイルで管理するメリット

・ファイルを作ってDBに変更を加えるので、DBの変更に関わるログを残すことができる
・同じ開発チームなどで同じファイルを持っている人間がDBに同じテーブルを作成するのが容易である

### マイグレーションファイルのup()、down()は何のコマンドを実行した時に呼び出されるのか

up:DBに新しいテーブル、カラム、インデックスを追加する時
down：upと逆の操作を実装し、以前の状態へ戻す時

### Seederクラスの役割は何か

PHPコードを使ってテーブルを操作する

### route関数の引数・返り値・使用するメリット

引数：ルート名
返り値：引数のルートに対応したURL
メリット：ルート名の指定のみでURLを呼び出せるので、直にURLを書くよりも保守性が高い

### @extends・@section・@yieldの関係性とbladeを分割するメリット

各Bladeの共通部分を記述した親Bladeファイルを作成した時、
@extendで子Blade内にて継承したい親Bladeを指定し、
@section～@endsectionで囲った部分を親Bladeの@Yieldに挿入する
メリット：複数のBlade間で重複するコードを共通化して再利用することで保守性が向上する

### @csrfは何のための記述か

フォームを送信する際に、CSRF対策で設定したトークンを送信するため

### {{ }}とは何の省略系か
PHPのecho